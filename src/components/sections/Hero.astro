---
import ButtonCTA from "../ButtonCTA.astro";
---

<section class="hero">
  <div class="hero__container">
    <h1 data-aos="fade-up">
      Engenharia civil amplamente especializada em
      <strong id="typing"></strong>
    </h1>
    <div class="hero__button" data-aos="fade-right">
      <ButtonCTA />
    </div>
  </div>
</section>

<style lang="scss">
  .hero {
    max-width: 1640px;
    margin: 0 auto;

    &__container {
      padding: 0 1rem;
      font-family: var(--ff-space-grotesk);
      font-weight: 300;

      h1 {
        font-size: 6rem;
        font-weight: 300;
        padding: 2rem 0;
        color: var(--neutral-color-100);
        line-height: 1.15;
        letter-spacing: 0.02em;

        strong {
          font-weight: 500;
        }
      }

      .hero__button {
        margin: 4rem 0;
      }
    }
  }

  @media only screen and (max-width: 1700px) {
    .hero {
      &__container {
        h1 {
          font-size: 5.5rem;
        }
      }
    }
  }

  @media only screen and (max-width: 1500px) {
    .hero {
      &__container {
        h1 {
          font-size: 4.5rem;
          line-height: 1.4;
        }
      }
    }
  }

  @media only screen and (max-width: 1249px) {
    .hero {
      &__container {
        h1 {
          font-size: 4rem;
        }
      }
    }
  }

  @media only screen and (max-width: 1100px) {
    .hero {
      &__container {
        h1 {
          font-size: 3.3rem;
        }
      }
    }
  }

  @media only screen and (max-width: 900px) {
    .hero {
      &__container {
        display: flex;
        flex-direction: column;
        align-items: center;

        h1 {
          padding: 3rem 0;
          font-size: 3rem;
          text-align: center;
          line-height: 1.6;
        }
      }
    }
  }

  @media only screen and (max-width: 600px) {
    .hero {
      &__container {
        h1 {
          font-size: 2.4rem;
        }

        .hero__button {
          margin: 2rem 0;
        }
      }
    }
  }

  @media only screen and (max-width: 400px) {
    .hero {
      &__container {
        h1 {
          font-size: 2rem;
        }
      }
    }
  }
</style>
<script>
  var i = 0;
  var texts = ["laudos", "perícias", "diagnósticos"];
  var speed = 50;

  function typeWriter() {
    if (i >= texts.length) {
      i = 0; // Reinicia o índice quando todas as strings forem exibidas
    }
    var currentText = texts[i];

    var j = 0;
    function addChar() {
      if (j < currentText.length) {
        document.getElementById("typing").innerHTML += currentText.charAt(j);
        j++;
        setTimeout(addChar, speed);
      } else {
        setTimeout(eraseText, 2000); // Espera 2 segundo antes de apagar o texto
      }
    }

    function eraseText() {
      var str = document.getElementById("typing").innerHTML;
      str = str.slice(0, -1);
      document.getElementById("typing").innerHTML = str;
      if (str.length > 0) {
        setTimeout(eraseText, speed);
      } else {
        i++;
        setTimeout(typeWriter, 400); // Espera 0.4 segundo antes de começar a próxima string
      }
    }

    addChar();
  }

  window.addEventListener("load", typeWriter);
</script>
